---
import { routes } from "@/lib/routes";
import Logo from "@/assets/Logo.astro";
---

<header class="fixed left-0 top-0 z-50 flex w-full justify-center p-4">
  <nav
    class="flex w-full max-w-6xl flex-col items-center justify-between rounded-xl border border-neutral-200 bg-neutral-50/70 px-4 py-4 backdrop-blur lg:flex-row lg:px-8"
  >
    <div class="flex w-full items-center justify-between lg:w-auto">
      <a href="/">
        <span class="flex items-center gap-2 font-title text-xl font-bold">
          <img src="/h-logo.svg" alt="TattooKiller" class="h-12" />
        </span>
      </a>

      <button
        id="menuBtn"
        class="flex h-9 w-10 flex-col items-end justify-between p-2 lg:hidden"
      >
        <span class="h-[3px] w-full rounded-full bg-neutral-800 transition-all"
        ></span>
        <span class="h-[3px] w-1/2 rounded-full bg-neutral-800 transition-all"
        ></span>
        <span class="h-[3px] w-3/4 rounded-full bg-neutral-800 transition-all"
        ></span>
        <span class="sr-only">Botón menú</span>
      </button>
    </div>

    <ul
      id="menu"
      class="hidden w-full flex-col items-center overflow-hidden p-8 lg:flex lg:w-auto lg:flex-row lg:p-0"
    >
      {
        routes.map(({ slug, title }) => (
          <li class="flex w-full lg:w-auto">
            <a
              href={slug}
              class="mt-3 w-full rounded-lg border border-neutral-200 bg-neutral-50 p-6 font-title text-2xl shadow-lg transition-colors lg:mt-0 lg:w-auto lg:border-2 lg:border-transparent lg:bg-transparent lg:px-6 lg:py-2 lg:text-lg lg:shadow-none lg:hover:border-neutral-600"
            >
              {title}
            </a>
          </li>
        ))
      }
    </ul>
  </nav>
</header>

<script>
  const menuBtn = document.querySelector("#menuBtn");
  const menu = document.querySelector("#menu");

  menuBtn?.addEventListener("click", () => {
    menu?.classList.toggle("hidden");
    menuBtn?.classList.toggle("open");
  });
</script>

<style>
  .open {
    justify-content: center;
    align-items: center;
  }
  .open > span:nth-of-type(1) {
    transform: rotate(-45deg);
  }
  .open > span:nth-of-type(2) {
    display: none;
  }
  .open > span:nth-of-type(3) {
    width: 100%;
    transform: rotate(45deg);
  }
</style>
