---
import PostCard from "@/components/PostCard.astro";
import Link from "@/components/Link.astro";
import posts from "@/lib/posts.json";

const seconds = "60s";
const gap = "1rem";
---

<section class="flex flex-col items-center gap-4 py-10 lg:py-20">
  <h2
    class="mt-10 max-w-4xl px-4 text-center font-title text-2xl tracking-tighter lg:text-4xl"
  >
    Publicaciones y resultados
  </h2>

  <Link href="https://www.instagram.com/aitor_tattookiller/" target="_blank">
    VER RESULTADOS
  </Link>

  <main class="mt-8 flex w-full overflow-hidden">
    <ul class="flex shrink-0 pb-12">
      {posts.map((item) => <PostCard {...item} />)}
    </ul>
    <ul class="flex shrink-0 pb-12">
      {posts.map((item) => <PostCard {...item} />)}
    </ul>
  </main>
</section>

<style define:vars={{ seconds, gap }}>
  main {
    gap: var(--gap);
  }

  ul {
    animation: marquee var(--seconds) linear infinite;
    gap: var(--gap);
  }

  main:hover > ul {
    animation-play-state: paused;
  }
  < g .reverse {
    animation-direction: reverse;
  }

  @keyframes marquee {
    0% {
      transform: translate3d(0, 0, 0);
    }
    100% {
      transform: translate3d(calc(-100% - var(--gap)), 0, 0);
    }
  }
</style>
